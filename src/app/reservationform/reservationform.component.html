<app-navbar></app-navbar>
<div class="container">
    <div class="row">
<div class="form-group lightColor">
    <button type="button3" pButton label="Reserver" style="background-color:#00567c;" (click)="test()"></button>
<div class="col-6">
    <p-dropdown placeholder="liste des salles" [options]="rooms" (onChange)="choixSalle($event)" id="room" [(ngModel)]="Room"></p-dropdown>
</div>
<div class="col-6">
    <p-calendar [(ngModel)]="Date" id="date" placeholder="Date de reservation" (onSelect)="choixDate($event)" *ngIf="Room" dateFormat="dd.mm.yy"></p-calendar>
</div>
<div class="col-6">
<p-table #dt *ngIf="Date" [columns]="cols" [value]="TableData" [paginator]="true" [rows]="20">
    <ng-template pTemplate="caption">
        Reservation
    </ng-template>
    <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                    {{col.header}}
                </th>
            </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-i="rowIndex" let-columns="columns">
        <tr [pSelectableRow]="rowData">
            <td>{{rowData.date}}</td>
            <td>{{rowData.salle}}</td>
            <td>{{rowData.creneaux}}</td>
            <td>{{rowData.joueursMax}}</td>
            <td>{{rowData.vr}}</td>
            <td><button type="button3" pButton label="Reserver" style="background-color:#00567c;" (click)="reservation(i)"></button></td>
        </tr>
    </ng-template>
  </p-table>
  </div>
  <p-dialog [style]="{width: '500px', minWidth: '400px'}" *ngIf="RowTableData" header="Formulaire de réservation" [(visible)]="displayform" [responsive]="true" showEffect="fade" [modal]="true"  [style]="{width: '20%'}">
    <form>
        <div class="form-row">
            <div class="form-group col-md-6">
              <p-calendar placeholder="Date de reservation"></p-calendar>
            </div>
            <div class="form-group col-md-6">
              <select class="form-control"  name="selectcreneaux" [(ngModel)]="RowTableData.creneaux">
                <option selected="{{RowTableData.creneaux}}">{{RowTableData.creneaux}}</option>
                  <option *ngFor="let item of hourlist">{{item.value}}</option>
                </select>
            </div>
          </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputNom">Nom</label>
            <input type="text" class="form-control" name="inputNom" placeholder="Nom">
          </div>
          <div class="form-group col-md-6">
            <label for="inputPrenom">Prénom</label>
            <input type="text" class="form-control" name="inputPrenom" placeholder="Prénom">
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail">E-Mail</label>
          <input type="email" class="form-control" name="inputEmail" placeholder="blabla@chocolat.com">
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputSalle">Salle</label>
            <select class="form-control"  [(ngModel)]="RowTableData.salle" name="selectedsalle">
              <option selected="{{RowTableData.salle}}">{{RowTableData.salle}}</option>
                <option *ngFor="let item of rooms">{{item.value.name}}</option>
              </select>
          </div>
          <div class="form-group col-md-4">
            <label for="inputAge">Nb Joueur</label>
            <input type="number" min="2" max="{{RowTableData.joueursMax}}" name="nbplayers" class="form-control" [(ngModel)]="RowTableData.joueursMax">
          </div>
          <div class="form-group col-md-2">
            <label for="inputAge">Age</label>
            <input type="number" min="18" max="110" class="form-control" id="inputAge">
          </div>
        </div>
        <button type="submit" class="btn" (click)="close()" style="background-color: red;">Annuler</button>
        <button type="submit" class="btn btn-primary">Valider</button>   
      </form>
</p-dialog>
</div>